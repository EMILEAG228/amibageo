<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Aide ‚Ä¢ Tutoriel CEET</title>
<style>
  :root{
    --bg:#0f0f1a;
    --card:rgba(10,10,25,0.95);
    --accent1:#00ffff;
    --accent2:#ff00ff;
    --glass: rgba(255,255,255,0.03);
    --text:#eaf6ff;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:Inter, "Segoe UI", Roboto, system-ui, Arial;
    background: linear-gradient(180deg,#05050a 0%, var(--bg) 100%);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.4;
    padding:28px;
  }

  .wrap{
    max-width:1100px;
    margin:0 auto;
    display:grid;
    grid-template-columns: 1fr 360px;
    gap:22px;
    align-items:start;
  }

  header{
    grid-column:1/-1;
    margin-bottom:6px;
    display:flex;
    gap:12px;
    align-items:center;
  }
  header h1{
    font-size:1.25rem;
    margin:0;
    background:linear-gradient(90deg,var(--accent1),var(--accent2));
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
  }
  header p{ margin:0; opacity:0.9; font-size:0.95rem }

  /* Video card */
  .card{
    background: var(--card);
    border-radius:12px;
    padding:18px;
    box-shadow:0 6px 30px rgba(0,0,0,0.5);
    border:1px solid rgba(255,255,255,0.03);
  }

  .video-container{
    position:relative;
    border-radius:10px;
    overflow:hidden;
    background:var(--glass);
  }
  video{
    display:block;
    width:100%;
    height:auto;
    background:#000;
  }

  /* Custom control bar */
  .controls{
    display:flex;
    gap:8px;
    align-items:center;
    padding:10px 6px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  }
  .controls button, .controls select {
    background: linear-gradient(90deg,var(--accent1),var(--accent2));
    border:none;
    color:#000;
    padding:8px 10px;
    border-radius:8px;
    font-weight:600;
    cursor:pointer;
  }
  .controls .muted{ background: #666; color:#fff }
  .controls .small{
    padding:6px 8px; font-size:0.9rem;
  }
  .progress{
    -webkit-appearance:none;
    appearance:none;
    width:100%;
    height:8px;
    background:rgba(255,255,255,0.06);
    border-radius:6px;
    outline:none;
    margin:0 8px;
    cursor:pointer;
  }
  .time{
    font-size:0.9rem;
    opacity:0.9;
    min-width:70px;
    text-align:center;
  }

  /* Right column */
  aside .card{
    padding:16px;
  }
  .meta-row{ display:flex; justify-content:space-between; gap:8px; margin-bottom:10px; align-items:center }
  .btn-ghost{
    background:transparent;
    border:1px solid rgba(255,255,255,0.08);
    color:var(--text);
    padding:8px 10px;
    border-radius:8px;
    cursor:pointer;
  }
  .download{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:none;
    background:linear-gradient(90deg,var(--accent1),var(--accent2));
    font-weight:700;
    color:#000;
    cursor:pointer;
    margin-top:8px;
  }

  .transcript{
    margin-top:12px;
    max-height:240px;
    overflow:auto;
    padding:10px;
    background:rgba(0,0,0,0.35);
    border-radius:8px;
    font-size:0.95rem;
  }
  .transcript p{
    margin:8px 0;
    cursor:pointer;
    padding:6px;
    border-radius:6px;
  }
  .transcript p:hover{ background:rgba(255,255,255,0.03) }

  .faq{ margin-top:14px; }
  .faq h3{ margin:0 0 8px 0; font-size:1rem }
  .faq details{ margin-bottom:8px; background:rgba(255,255,255,0.02); padding:8px; border-radius:8px; }

  footer{
    grid-column:1/-1;
    margin-top:18px;
    color:rgba(255,255,255,0.6);
    font-size:0.9rem;
    text-align:center;
  }

  /* Responsive */
  @media (max-width:980px){
    .wrap{ grid-template-columns: 1fr; padding:0 8px }
    aside{ order:2 }
  }

  .download {
    padding:12px 25px;
    border-radius:12px;
    background: linear-gradient(90deg,#00ffff,#ff00ff);
    color:#000;
    font-weight:bold;
    text-decoration:none;
    display:inline-block;
    transition:0.3s;
}
.download:hover {
    transform: scale(1.05);
    box-shadow:0 0 20px #00ffff,0 0 40px #ff00ff;
}

</style>
</head>
<body>

<div class="wrap">
  <header>
    <div>
      <h1>Centre d'aide ‚Ä¢ Tutoriel de l'application</h1>
      <p>Vid√©o explicative + outils pour naviguer rapidement dans la demo.</p>
    </div>
  </header>

  <!-- MAIN: VIDEO + CONTROLS -->
  <main class="card">
    <div class="video-container" aria-label="Lecteur vid√©o tutoriel">
      <!-- Video source: CEET.mp4 (local) -->
      <!-- Optionnel: tu peux ajouter un VTT pour sous-titres nomm√© CEET.vtt -->
      <video id="player" preload="metadata" tabindex="0" controlsList="nodownload">
        <source src="CEET.mp4" type="video/mp4">
        <!-- Subtitles (optionnel) -->
        <track id="captions" label="Fran√ßais" kind="subtitles" srclang="fr" src="CEET.vtt" default>
        Ton navigateur ne supporte pas la balise vid√©o.
      </video>
    </div>

    <!-- Controls personnalis√©s (compl√©mentaires) -->
    <div class="controls" role="group" aria-label="Contr√¥les du lecteur">
      <button id="playPause" title="Play / Pause">‚ñ∂Ô∏è</button>
      <button id="stop" title="Stop">‚èπÔ∏è</button>

      <input id="progress" class="progress" type="range" min="0" max="100" value="0" aria-label="Barre de progression">

      <div class="time" aria-live="polite"><span id="current">00:00</span> / <span id="duration">00:00</span></div>

      <select id="speed" title="Vitesse de lecture">
        <option value="0.5">0.5√ó</option>
        <option value="0.75">0.75√ó</option>
        <option value="1" selected>1√ó</option>
        <option value="1.25">1.25√ó</option>
        <option value="1.5">1.5√ó</option>
        <option value="2">2√ó</option>
      </select>

      <button id="mute" class="small" title="Couper le son">üîä</button>
      <button id="cc" class="small" title="Sous-titres (si disponibles)">CC</button>
      <button id="fs" class="small" title="Plein √©cran">‚õ∂</button>
      <a id="downloadLink" href="CEET.mp4" download class="small" title="T√©l√©charger la vid√©o">‚¨áÔ∏è</a>
    </div>

    <!-- Short tips -->
    <div style="margin-top:12px; color:rgba(255,255,255,0.75); font-size:0.95rem">
      Raccourcis clavier : <strong>espace</strong> = play/pause, <strong>‚Üê / ‚Üí</strong> = -5s / +5s, <strong>F</strong> = plein √©cran.
    </div>
  </main>

  <!-- SIDEBAR: Transcript + FAQ + Contact -->
  <aside>
    <div class="card">
      <div class="meta-row">
        <div>
          <strong>Tutoriel : CEET</strong>
          <div style="opacity:0.8; font-size:0.9rem">Dur√©e: <span id="meta-duration">--:--</span></div>
        </div>
        <div style="text-align:right">
          <button id="openTranscript" class="btn-ghost">üìù Transcription</button>
        </div>
      </div>

      <a href="https://emileag228.github.io/amibageo/" class="download">CEET Ref & GPS Garmin</a>


      <div id="transcript" class="transcript" hidden aria-hidden="true">
        <!-- Exemple de transcription ‚Äî remplace par la vraie si tu en as une -->
        <p data-start="0">00:00 Introduction ‚Äî Pr√©sentation de l'application CEET.</p>
        <p data-start="18">00:18 Connexion et cr√©ation de compte.</p>
        <p data-start="48">00:48 Ajout d'une r√©f√©rence (r√©f√©rence, num√©ro compteur, adresse).</p>
        <p data-start="92">01:32 Recherche et √©dition des r√©f√©rences.</p>
        <p data-start="150">02:30 Dashboard et statistiques avanc√©es.</p>
        <p data-start="200">03:20 Astuces & raccourcis.</p>
      </div>

      <div class="faq">
        <h3>FAQ rapide</h3>
        <details>
          <summary>Comment ajouter une nouvelle r√©f√©rence ?</summary>
          <div style="margin-top:8px">Va dans "Ajouter R√©f√©rence", remplis le formulaire (r√©f√©rence, num√©ro compteur, adresse, client) puis clique sur Ajouter.</div>
        </details>
        <details>
        
          <div style="margin-top:8px">Utilise la commande SQL <code>TRUNCATE TABLE client_ref;</code> ou le bouton "Vider la base" si tu l'as ajout√© au dashboard (avec confirmation).</div>
        </details>
        <details>
          <summary>Comment Rechercher Les References</summary>
          <div style="margin-top:8px">Si le fichier <code>CEET.vtt</code> est pr√©sent, clique sur le bouton <strong>CC</strong> ou active via le menu du lecteur natif.</div>
        </details>
      </div>

      <div style="margin-top:12px; font-size:0.95rem">
        <strong>Support</strong>
        <p style="opacity:0.85; margin-top:6px">Contact: <a href="mailto:emileagbabli7@gmail.com" style="color:var(--accent1); text-decoration:underline">emileagbabli7@gmail.com</a></p>
      </div>
    </div>
  </aside>

  <footer>
    ¬© CEET ‚Äî Page d'aide @EMILE AG
  </footer>
</div>

<script>
(function(){
  const player = document.getElementById('player');
  const playPauseBtn = document.getElementById('playPause');
  const stopBtn = document.getElementById('stop');
  const progress = document.getElementById('progress');
  const currentEl = document.getElementById('current');
  const durationEl = document.getElementById('duration');
  const speedSel = document.getElementById('speed');
  const muteBtn = document.getElementById('mute');
  const ccBtn = document.getElementById('cc');
  const fsBtn = document.getElementById('fs');
  const downloadBtn = document.getElementById('downloadBtn');
  const downloadLink = document.getElementById('downloadLink');
  const transcript = document.getElementById('transcript');
  const openTranscript = document.getElementById('openTranscript');
  const metaDuration = document.getElementById('meta-duration');

  // update duration when metadata loaded
  player.addEventListener('loadedmetadata', () => {
    const d = player.duration || 0;
    durationEl.textContent = formatTime(d);
    metaDuration.textContent = formatTime(d);
  });

  // play/pause
  playPauseBtn.addEventListener('click', () => {
    if(player.paused) player.play(); else player.pause();
  });
  player.addEventListener('play', ()=> playPauseBtn.textContent = '‚è∏Ô∏è');
  player.addEventListener('pause', ()=> playPauseBtn.textContent = '‚ñ∂Ô∏è');

  // stop
  stopBtn.addEventListener('click', ()=> {
    player.pause();
    player.currentTime = 0;
  });

  // progress update
  player.addEventListener('timeupdate', () => {
    const pct = (player.currentTime / Math.max(player.duration,1)) * 100;
    progress.value = pct || 0;
    currentEl.textContent = formatTime(player.currentTime);
  });

  // seek by progress
  progress.addEventListener('input', (e)=> {
    const val = e.target.value;
    const newTime = (val/100) * player.duration;
    player.currentTime = newTime;
  });

  // speed
  speedSel.addEventListener('change', ()=> player.playbackRate = parseFloat(speedSel.value));

  // mute/unmute
  muteBtn.addEventListener('click', ()=>{
    player.muted = !player.muted;
    muteBtn.textContent = player.muted ? 'üîá' : 'üîä';
    muteBtn.classList.toggle('muted', player.muted);
  });

  // captions toggle (if track exists)
  ccBtn.addEventListener('click', ()=>{
    const tracks = player.textTracks || [];
    if(tracks.length === 0) return alert('Aucun fichier de sous-titres trouv√© (CEET.vtt).');
    for(let i=0;i<tracks.length;i++){
      tracks[i].mode = (tracks[i].mode === 'showing') ? 'hidden' : 'showing';
    }
  });

  // fullscreen
  fsBtn.addEventListener('click', ()=>{
    if(document.fullscreenElement){
      document.exitFullscreen();
    } else {
      player.requestFullscreen?.() || document.documentElement.requestFullscreen?.();
    }
  });

  // download
  downloadBtn.addEventListener('click', () => {
    // d√©clenche t√©l√©chargement via le lien
    downloadLink.click();
  });

  // Keyboard shortcuts
  document.addEventListener('keydown', (e) =>{
    if(e.target.tagName === 'INPUT' || e.target.isContentEditable) return;
    if(e.code === 'Space'){ e.preventDefault(); if(player.paused) player.play(); else player.pause(); }
    if(e.key === 'ArrowRight'){ player.currentTime = Math.min(player.duration, player.currentTime + 5); }
    if(e.key === 'ArrowLeft'){ player.currentTime = Math.max(0, player.currentTime - 5); }
    if(e.key.toLowerCase() === 'f'){ if(document.fullscreenElement) document.exitFullscreen(); else player.requestFullscreen?.(); }
  });

  // Transcript toggling & clickable timestamps
  openTranscript.addEventListener('click', () => {
    const hidden = transcript.hidden;
    transcript.hidden = !hidden;
    transcript.setAttribute('aria-hidden', String(!hidden));
    if(!transcript.hidden) transcript.scrollTop = 0;
  });
  transcript.querySelectorAll('p[data-start]').forEach(p => {
    p.addEventListener('click', () => {
      const t = parseFloat(p.getAttribute('data-start')) || 0;
      player.currentTime = t;
      player.play();
    });
  });

  // Utility: format time s -> mm:ss
  function formatTime(seconds){
    seconds = Math.floor(seconds || 0);
    const m = Math.floor(seconds / 60);
    const s = seconds % 60;
    return `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
  }

  // Set initial UI state
  progress.value = 0;
  muteBtn.textContent = player.muted ? 'üîá' : 'üîä';
})();
</script>
</body>
</html>
